.widget-container.fluid-height.stf-keys.stf-access-tokens(ng-controller='DeviceGroupsCtrl')
  .heading
    i.fa.fa-object-group
    span(translate) Device Groups

    button.btn.pull-right.btn-sm(
    ng-click='showAdd = !showAdd',
    ng-class='{ "btn-primary-outline": !showAdd, "btn-primary": showAdd }')
      i.fa.fa-plus.fa-fw

  .widget-content.padded

    nothing-to-show(icon='fa-object-group', message='{{"No device groups" | translate}}',
    ng-if='!deviceGroups.length && !showAdd')

    add-device-group(show-clipboard='true', show-add='showAdd')

    ul.list-group
      li(style='border-bottom: 1px solid black; margin-bottom: 15px;').list-group-item(ng-repeat='group in deviceGroups track by $index')
        a
          i.fa.fa-key.fa-2x.fa-fw.fa-object-group
          .key-list-details
            .key-list-title(ng-bind='group.title')

          button.btn.btn-xs.btn-danger-outline.pull-right.key-list-remove(ng-click='removeDeviceGroup(group)')
            i.fa.fa-trash-o
            span(translate) Remove

          button.btn.pull-right.btn-sm(
          ng-click='showAddDeviceToGroup = !showAddDeviceToGroup',
          ng-class='{ "btn-primary-outline": !showAddDeviceToGroup, "btn-primary": showAddDeviceToGroup }')
            i.fa.fa-plus.fa-fw
            span(translate) Add device

          button.btn.pull-right.btn-sm(
          ng-click='showAddUserGroupToGroup = !showAddUserGroupToGroup',
          ng-class='{ "btn-primary-outline": !showAddUserGroupToGroup, "btn-primary": showAddUserGroupToGroup }')
            i.fa.fa-plus.fa-fw
            span(translate) Add user group

        table(ng-if='group.userGroupTitles.length > 0').table.table-condensed
          thead
            tr
              th(colspan='1')
                span(translate) User group name
              th(colspan='1')
          tbody
            tr(ng-repeat='userGroupTitle in group.userGroupTitles')
              td
                span {{userGroupTitle}}
              td
                button.btn.btn-sm.btn-danger-outline(ng-click='removeUserGroupFromGroup(group, userGroupTitle)')
                  i.fa.fa-trash-o
                  span(translate) Remove user group

        table(ng-if='group.deviceSerials.length > 0').table.table-condensed
          thead
            tr
              th(colspan='1')
                span(translate) Device model
              th(colspan='1')
                span(translate) Device OS
              th(colspan='1')
                span(translate) Device serial
              th(colspan='1')
          tbody
            tr(ng-repeat='device in group.devices')
              td
                span {{device.model}}
              td
                span {{device.version}}
              td
                span {{device.serial}}
              td
                button.btn.btn-sm.btn-danger-outline(ng-click='removeDeviceFromGroup(group, device)')
                  i.fa.fa-trash-o
                  span(translate) Remove device

          add-device-to-group(show-clipboard='true', show-add-device-to-group='showAddDeviceToGroup', group='group')
          add-user-group-to-group(show-clipboard='true', show-add-user-group-to-group='showAddUserGroupToGroup', group='group')
